<!--
  templateType: email_subscription_preferences_page
  label: Subscription Preferences
  isAvailableForNewContent: false
  screenshotPath: ../images/template-previews/subscription-preferences.png
-->
<!DOCTYPE html>
<html lang="{{ html_lang }}" {{ html_lang_dir }}>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {{ standard_header_includes }}

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">

  {{ require_css(get_asset_url("../../css/main.css")) }}
  {{ require_css(get_asset_url("../../css/system.css")) }}

  <style>
    :root {
      --color-primary: {{ theme.colors.primary.color|default('#1B2B4B') }};
      --color-secondary: {{ theme.colors.secondary.color|default('#2A9D8F') }};
      --color-accent: {{ theme.colors.accent.color|default('#E76F51') }};
      --color-text-dark: {{ theme.colors.text_dark.color|default('#1B2B4B') }};
      --color-text-light: {{ theme.colors.text_light.color|default('#FFFFFF') }};
      --color-bg-light: {{ theme.colors.background_light.color|default('#FFFFFF') }};
      --font-heading: "Palatino Linotype", Palatino, Georgia, "Times New Roman", serif;
      --font-body: "PT Sans", system-ui, sans-serif;
    }
  </style>
</head>

<body class="subscription-page">
  <header class="site-header site-header--simple">
    <div class="container">
      <div class="header-inner">
        <div class="site-logo">
          <a href="/">
            {% if theme.header.logo.src %}
              <img src="{{ theme.header.logo.src }}" alt="{{ theme.header.logo.alt|default('Logo') }}" loading="eager">
            {% else %}
              <span class="site-name">Sidekick Strategies</span>
            {% endif %}
          </a>
        </div>
      </div>
    </div>
  </header>

  <main class="subscription-page__main">
    <section class="subscription-page__header">
      <div class="container">
        <h1 class="subscription-page__title">Email Preferences</h1>
        <p class="subscription-page__description">
          Manage your email subscription preferences below.
        </p>
      </div>
    </section>

    <section class="subscription-page__content">
      <div class="container">
        <div class="subscription-page__card">
          {% if unsubscribe_all %}
            <div class="subscription-page__status subscription-page__status--unsubscribed">
              <div class="subscription-page__status-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48" height="48">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
              </div>
              <h2 class="subscription-page__status-title">You've Been Unsubscribed</h2>
              <p class="subscription-page__status-text">
                You have been successfully unsubscribed from all email communications.
              </p>
            </div>
          {% elif updated %}
            <div class="subscription-page__status subscription-page__status--updated">
              <div class="subscription-page__status-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48" height="48">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
              </div>
              <h2 class="subscription-page__status-title">Preferences Updated</h2>
              <p class="subscription-page__status-text">
                Your email preferences have been successfully updated.
              </p>
            </div>
          {% endif %}

          <form method="post" class="subscription-page__form">
            {% if email_address %}
              <div class="subscription-page__email">
                <label class="subscription-page__email-label">Email Address</label>
                <div class="subscription-page__email-value">{{ email_address }}</div>
              </div>
            {% endif %}

            <div class="subscription-page__types">
              <h3 class="subscription-page__types-title">Subscription Types</h3>
              <p class="subscription-page__types-description">
                Select the types of emails you would like to receive:
              </p>

              <div class="subscription-page__types-list">
                {% for subscription_type in subscription_types %}
                  <div class="subscription-type">
                    <label class="subscription-type__label">
                      <input
                        type="checkbox"
                        name="subscriptions"
                        value="{{ subscription_type.id }}"
                        {% if subscription_type.subscribed %}checked{% endif %}
                        class="subscription-type__checkbox"
                      >
                      <span class="subscription-type__checkbox-custom">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" width="14" height="14">
                          <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                      </span>
                      <span class="subscription-type__content">
                        <span class="subscription-type__name">{{ subscription_type.name }}</span>
                        {% if subscription_type.description %}
                          <span class="subscription-type__description">{{ subscription_type.description }}</span>
                        {% endif %}
                      </span>
                    </label>
                  </div>
                {% endfor %}
              </div>
            </div>

            <div class="subscription-page__actions">
              <button type="submit" name="update" class="subscription-page__button subscription-page__button--primary">
                Update Preferences
              </button>
            </div>

            <div class="subscription-page__unsubscribe">
              <p>Or, <button type="submit" name="unsubscribe_all" class="subscription-page__unsubscribe-link">unsubscribe from all emails</button></p>
            </div>
          </form>

          <div class="subscription-page__privacy">
            <p>We respect your privacy. View our <a href="/privacy-policy">Privacy Policy</a> to learn more.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer site-footer--simple">
    <div class="container">
      <p>&copy; {{ local_dt|datetimeformat('%Y', 'UTC')|default('2026') }} Sidekick Strategies. All rights reserved.</p>
    </div>
  </footer>

  {{ standard_footer_includes }}
</body>
</html>
